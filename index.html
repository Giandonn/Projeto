<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GABINI</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <script src="./scripts/countdown.js"></script>
</head>

<body>

  <!-- Navbar -->

  <header class="navbar navbar-expand-lg navbar-light bg-light" style="border-radius: 0.25rem;">
    <div class="container-fluid">
      <img style="padding-left: 90px;" src="../../imgs/cardCountdown/Logo2.png" alt="">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav mx-auto" style="font-size: 13px;">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#" style="color: black; margin-left: 200px;">HOME</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" style="color: black;">SALE</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" style="color: black;">BUNDLE & SAVE</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
              data-bs-toggle="dropdown" aria-expanded="false" style="color: black;">
              SHOP BY CATEGORY
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" style="color: black;">SUPPORT</a>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto">
          <li class="nav-item" id="signup-item">
            <a class="nav-link" href="auth/cadastro.html" style="color: lightskyblue; font-size: 13px;">SIGN UP FOR
              FREE</a>
          </li>
          <li class="nav-item" id="login-item">
            <a class="nav-link" href="auth/login.html" style="color: black; font-size: 13px;">LOGIN</a>
          </li>
          <div class="profile-icon mx-auto mb-2" id="profile-icon" style="display: none;">
            <a href="../profile/editperfil.html">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="black" class="bi bi-person"
                viewBox="0 0 16 16">
                <path
                  d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm4-3a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM2 13s-1 0-1-1 1-4 7-4 7 3 7 4-1 1-1 1H2zm1.643-1c.209-.73 1.21-2 6.357-2 5.147 0 6.148 1.27 6.357 2H3.643z" />
              </svg>
            </a>
          </div>
        </ul>
      </div>
    </div>
  </header>

  <!-- Primeiro card - Hero -->

  <div class="hero">
    <div class="container d-flex align-items-center justify-content-between">
      <div class="text-box">
        <h1>Gabini <br>Headset <br> Store</h1>
        <div class="info">
          <h2>Welcome to Gabini quality, at <br> our most welcoming price.</h2>
          <button class="btn_hero">
            See More Details
            <div class="btn-ball">
              <img src="https://enricosotelo.github.io/img/seta.svg" alt="">
            </div>
          </button>
        </div>
        <div class="ratings">
          <div class="stars">
            <div class="stars-box">
              <h3>4.8</h3>
              <img src="https://enricosotelo.github.io/img/Frame%201321314570.svg" alt="">
            </div>
            <p>2,290 ratings</p>
          </div>
          <div class="ten-k">
            <h2>10k+</h2>
            <p>Bought in past month</p>
          </div>
        </div>
      </div>
      <div class="card-head">
        <img class="phone" src="./imgs/headphone.png" alt="">
        <div class="ch-desc">
          <div class="ch-circle">
            <img src="https://enricosotelo.github.io/img/Vector.svg" alt="">
          </div>
          <div class="ch-text">
            <p>Warranty</p>
            <b>2 years</b>
          </div>
        </div>
        <div class="ch-desc1">
          <div class="ch-circle">
            <img src="https://enricosotelo.github.io/img/Vector1.svg" alt="">
          </div>
          <div class="ch-text">
            <p>Battery</p>
            <b>78 Hours</b>
          </div>
        </div>
      </div>
    </div>
    <!-- Linhas animadas -->
    <div class="hl-box">
      <div class="line1">
        <div class="line-box">
          <span>Your text here</span>
          <img src="./imgs/Vector.svg" alt="" class="vector">
        </div>
      </div>
      <div class="line2">
        <div class="line-box1">
          <span>Your text here</span>
          <img src="./imgs/Vector.svg" alt="" class="vector">
        </div>
      </div>
    </div>
  </div>

  <!-- Produtos em destaque -->

  <div class="container d-flex align-items-center justify-content-between">
    <div class="card1">
      <div class="ch-desc3">
        <div class="ch-circle"><img src="https://enricosotelo.github.io/img/Icons.svg" alt=""></div>
        <div class="ch-text">
          <p>Item Weight</p><b>2.6 Pounds</b>
        </div>
      </div>
      <h1>Find the <br> Perfect gifts</h1><img class="bg" src="https://enricosotelo.github.io/img/f-preto.png" alt="">
    </div>
    <div class="card2">
      <div class="ch-desc3">
        <div class="ch-circle"><img src="https://enricosotelo.github.io/img/Icons.svg" alt=""></div>
        <div class="ch-text">
          <p>Item Weight</p><b>2.6 Pounds</b>
        </div>
      </div>
      <h1>Find the <br> Perfect gifts</h1><img class="bg" src="https://enricosotelo.github.io/img/f-rosa.png" alt="">
    </div>
  </div>

  <!-- Novos produtos -->
<section>
  <div class="mt-3">
    <div id="component-container"></div>
  </div>

  <!-- Phone Color Change Section -->
  <div id="foneChangeColor"></div>

  <!-- Main Content Container -->
  <div class="main-container">
    <div class="content-container">
      <div class="text-container text-center">
        <div class="title text-black mb-4" id="section-title">NEW PRODUCTS</div>

        <!-- Products List -->
        <div class="products-container" id="products-container"></div>

        <!-- Pagination -->
        <div class="pagination-container" id="pagination-container">
          <div class="pagination">
            <div class="page">❮</div>
            <div class="page active">1</div>
            <div class="page">2</div>
            <div class="page">3</div>
            <div class="page">4</div>
            <div class="page">5</div>
            <div class="page">❯</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- Countdown -->

  <div class="container">
    <div class="timer">
      <div class="texture"></div>
      <div class="t-text-box">
        <h1 class="h1">Save 20% or more <br> on Headset</h1>
        <p> Enjoy for a limited time</p>
        <div class="timerjs">
          <div class="hours">
            <div class="hour">
              <h1 class="t-h1" id="hours-tens"><span class="number">1</span></h1>
              <h1 class="t-h1" id="hours-units"><span class="number">1</span></h1>
            </div>
            <p>Hours</p>
          </div>
          <div class="minutes">
            <div class="minute">
              <h1 class="t-h1" id="minutes-tens"><span class="number">5</span></h1>
              <h1 class="t-h1" id="minutes-units"><span class="number">9</span></h1>
            </div>
            <p>Minutes</p>
          </div>
          <div class="seconds">
            <div class="second">
              <h1 class="t-h1" id="seconds-tens"><span class="number">5</span></h1>
              <h1 class="t-h1" id="seconds-units"><span class="number">9</span></h1>
            </div>
            <p class="text-center">Seconds</p>
          </div>
        </div>
        <button class="btn_hero">Shop now
          <div class="btn-ball">
            <img src="./imgs/svgs/seta.svg" alt="">
          </div>
        </button>
        <span>Ends 18/08. Restrictions apply. <span style="cursor: pointer;">See details</span></span>
      </div>
      <img src="./imgs/cardCountdown/Headset.PNG" alt="">
      <img class="img-shadow" src="./imgs/svgs/headphone-shadow.svg" alt="">
    </div>
  </div>


  <!-- JBL Bluetooth -->

  <div class="container">
    <div class="products">
      <div class="product">
        <div class="image-container">
          <img :src="productImageSrc" alt="" id="product-image" class="product-image">
        </div>
        <div class="p-text-box">
          <h1>JBL Children's <br> Bluetooth <br> Headphones</h1>
          <div class="stars">
            <img :src="frame18Src" alt=""><br>
            <div class="color">Color Options
              <div class="circle1 color-option" :data-image="product02Src" data-verify="true">
              </div>
              <div class="circle2 color-option" :data-image="product01Src" data-verify="false">
                <img :src="verifyIconSrc" alt="" id="verify-icon">
              </div>
            </div>
            <br>
            <img class="frame" :src="frame21Src" alt=""><br><br>
            <button class="btn_hero">See More Details
              <div class="btn-ball"><img :src="setaSrc" alt=""></div>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Card change color  -->

  <div class="container">
    <div class="products">
      <div>
        <h1>TESTIMONIALS</h1>
        <p>Voices of Satisfaction: Discover What Our Clients Have to Say</p>
      </div>

      <div class="r-card-box">
        <div class="r-card" id="card1">
          <img src="https://enricosotelo.github.io/img/Frame%2017.svg" alt="">
          <p>I absolutely love this coffee maker! I use it every morning. Cold coffee is my favorite and this little
            machine makes great cold coffee. It is strong and tasty. I regular coffee cup or a larger stainless steel
            cup will work. </p>
          <img src="https://enricosotelo.github.io/img/perfil1.svg" alt="">
        </div>
        <div class="r-card" id="card2">
          <img src="https://enricosotelo.github.io/img/Frame%2017.svg" alt="">
          <p>I love the slim design of this Keurig. It works well except for the cold coffee. It states it does both
            hot and cold but I haven't found that to be accurate. The hot is perfect but it doesn't produce the cold
            coffee.</p>
          <img src="https://enricosotelo.github.io/img/perfil2.svg" alt="">
        </div>
        <div class="r-card" id="card3">
          <img src="https://enricosotelo.github.io/img/Frame%2017.svg" alt="">
          <p>Nothing wrong with the maker but seller had it "On sale"truns out their supposed sale price was actually
            what the product actually sells for normally. It's retail price is 119.99. And is currently on sale for
            64.99 </p>
          <img src="https://enricosotelo.github.io/img/perfil3.svg" alt="">
        </div>
        <div class="r-card" id="card4">
          <img src="https://enricosotelo.github.io/img/Frame%2017.svg" alt="">
          <p>I absolutely love this coffee maker! I use it every morning. Cold coffee is my favorite and this little
            machine makes great cold coffee. It is strong and tasty. I regular coffee cup or a larger stainless steel
            cup will work. </p>
          <img src="https://enricosotelo.github.io/img/perfil4.svg" alt="">
        </div>
        <div class="r-card" id="card5">
          <img src="https://enricosotelo.github.io/img/Frame%2017.svg" alt="">
          <p>I love the slim design of this Keurig. It works well except for the cold coffee. It states it does both
            hot and cold but I haven't found that to be accurate. The hot is perfect but it doesn't produce the cold
            coffee.</p>
          <img src="https://enricosotelo.github.io/img/perfil5.svg" alt="">
        </div>
        <div class="r-card" id="card6">
          <img src="https://enricosotelo.github.io/img/Frame%2017.svg" alt="">
          <p>Nothing wrong with the maker but seller had it "On sale"truns out their supposed sale price was actually
            what the product actually sells for normally. It's retail price is 119.99. And is currently on sale for
            64.99 </p>
          <img src="https://enricosotelo.github.io/img/perfil6.svg" alt="">
        </div>
      </div>

      <div class="btn-box">
        <button class="prox">
          <img src="https://enricosotelo.github.io/img/Icon-prox.svg" alt="">
        </button>
        <button class="nex">
          <img src="https://enricosotelo.github.io/img/Icon-prox.svg" alt="">
        </button>
      </div>
    </div>
  </div>

  <!-- Footer -->

  <div class="container">
    <div class="footer-g">
      <div class="footer-g-box">
        <img src="https://enricosotelo.github.io/img/Logo.png" alt="" class="logo">
        <div class="layer1">
          <div class="footer-menu-box">
            About Us <div class="footer-menu">
              <h5>Menu</h5>
              <a href="">Home</a>
              <a href="">About Us</a>
              <a href="">Product </a>
              <a href="">Pricing</a>
            </div>
            <div class="footer-menu">
              <h5>Resources</h5>
              <a href="">Forum</a>
              <a href="">Support</a>
              <a href="">Partners </a>
              <a href="">Events</a>
            </div>
            <div class="footer-menu">
              <h5>My Account</h5>
              <a href="">My Orders</a>
              <a href="">FAQ</a>
              <a href="">Sales conditions</a>
              <a href="">Contact </a>
              <a href="">Legal mentions</a>
            </div>
          </div>

          <div class="sub">
            <h5>Subscribe to Newsletter</h5>
            <p>Sign up for exclusive offers, original <br> stories, events and more.</p>
            <button class="btn_footer">Email Address <div class="btn-ball"><img
                  src="https://enricosotelo.github.io/img/seta.svg" alt=""></div></button>
          </div>
        </div>
        <img class="f-logo" src="https://enricosotelo.github.io/img/logo-footer.svg" alt="">

        <div class="layer2">
          <div class="line">&nbsp;</div>
          <div class="copy">
            <p>© 2024 Gabini Headset Store. - All Rights Reserved</p>
            <div class="l-box">
              <a href="">Products</a>
              <a href="">Privacy Policy</a>
              <a href="">Customer Service</a>
            </div>

            <img src="https://enricosotelo.github.io/img/redes.svg" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>


  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const line1 = document.querySelector('.line1');
      const line2 = document.querySelector('.line2');

      const originalContentLine1 = line1.innerHTML;
      const originalContentLine2 = line2.innerHTML;

      const numberOfCopies = 100;

      for (let i = 0; i < numberOfCopies; i++) {
        line1.innerHTML += originalContentLine1;
        line2.innerHTML += originalContentLine2;
      }
    });
  </script>

  <script>

if (localStorage.getItem('user')) {
      document.getElementById('login-item').style.display = 'none'; 
      document.getElementById('signup-item').style.display = 'none'; 
      document.getElementById('profile-icon').style.display = 'block'; 

      const logoutItem = document.createElement('li');
      logoutItem.classList.add('nav-item');
      logoutItem.innerHTML = '<a class="nav-link" href="#" onclick="logout()" style="color: black; font-size: 13px;">LOGOUT</a>';
      
      document.querySelector('.navbar-nav.ms-auto').appendChild(logoutItem);
    }

    function logout() {
      localStorage.removeItem('user'); 
      window.location.reload(); 
    }
  </script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> <!-- Axios CDN -->

<script>
  if (localStorage.getItem('user')) {
    document.getElementById('login-item').style.display = 'none'; 
    document.getElementById('signup-item').style.display = 'none'; 
    document.getElementById('profile-icon').style.display = 'block'; 

    const logoutItem = document.createElement('li');
    logoutItem.classList.add('nav-item');
    
    document.querySelector('.navbar-nav.ms-auto').appendChild(logoutItem);
  }

  function logout() {
    localStorage.removeItem('user'); 
    window.location.reload(); 
  }

async function produtoLista() {
  try {
    const response = await axios.get('http://localhost:5000/api/MarcaProduto/produtos');
    const produtosRecebidos = response.data; 

    console.log(produtosRecebidos);

    const produtos = produtosRecebidos.map(produto => ({
      titulo: produto.nome,  
      descricao: produto.descricao, 
      marca: produto.marca.nome,  
      precoOriginal: parseFloat(produto.preco), 
      precoAtual: parseFloat(produto.preco),  
      imagem: '../imgs/headphone-image.png'  
    }));

    renderizarProdutos(produtos); 
  } catch (error) {
    console.error('Erro ao pegar os produtos:', error.response ? error.response.data : error.message);
  }
}

function renderizarProdutos(produtos) {
  const container = document.getElementById('products-container');  
  const titleElement = document.getElementById('section-title');  
  const paginationContainer = document.getElementById('pagination-container');  

  container.innerHTML = '';
  titleElement.textContent = 'NEW PRODUCTS';  
  paginationContainer.style.display = 'block';  

  if (!produtos || produtos.length === 0) {
    titleElement.textContent = 'Não há produtos disponíveis no momento.';  
    const mensagemDiv = document.createElement('div');
    mensagemDiv.classList.add('no-products-message');
    container.appendChild(mensagemDiv);
    paginationContainer.style.display = 'none';  
    return; 
  }

  produtos.forEach(produto => {
    const produtoDiv = document.createElement('div');
    produtoDiv.classList.add('product');
    
    const imagem = document.createElement('img');
    imagem.classList.add('product-image');
    imagem.src = produto.imagem;

    const infoDiv = document.createElement('div');
    infoDiv.classList.add('product-info');

    const tituloDiv = document.createElement('div');
    tituloDiv.classList.add('product-title', 'text-black');
    tituloDiv.textContent = produto.titulo;

    const descricaoDiv = document.createElement('div');
    descricaoDiv.classList.add('product-description', 'text-black');
    descricaoDiv.textContent = produto.descricao;

    const precoDiv = document.createElement('div');
    precoDiv.classList.add('product-price', 'text-black');
    precoDiv.innerHTML = `<span class="preco-original">R$ ${produto.precoOriginal.toFixed(2)}</span> R$ ${produto.precoAtual.toFixed(2)}`;

    infoDiv.appendChild(tituloDiv);
    infoDiv.appendChild(descricaoDiv);
    infoDiv.appendChild(precoDiv);
    
    produtoDiv.appendChild(imagem);
    produtoDiv.appendChild(infoDiv);
    
    container.appendChild(produtoDiv);
  });
}

produtoLista();

</script>

</body>

</html>